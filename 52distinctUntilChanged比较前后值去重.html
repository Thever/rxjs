<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rxjs</title>
</head>
<body>
    <h1>在集合console.log来查看代码的演示效果</h1>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/rxjs/6.2.0/rxjs.umd.min.js"></script>
<script>
    //  cdn引用的直接调用
    // rxjs.interval(500).pipe(rxjs.operators.take(4)).subscribe(console.log)

    //  distinctUntilChanged(compare: function): Observable
    //  当前值与上一致相同就被去重，默认通过===判断

    // const {from} = rxjs
    // const {distinctUntilChanged} = rxjs.operators
    // //  默认
    // // const source$ = from([1,1,2,2,3,3])
    // const source$ = from([1,2,1,2,1,2])

    // source$.pipe(
    //     //  只要当前值与前一个值不同就会输出
    //     distinctUntilChanged()
    // ).subscribe(console.log)

    //  对象比较1
    // const {from} = rxjs
    // const {distinctUntilChanged} = rxjs.operators
    // const sampleObject = {name:'Test'}
    // const source$ = from([sampleObject,sampleObject,sampleObject])
    // source$.pipe(
    //     distinctUntilChanged()
    // ).subscribe(e=>console.log(e))

    //  对象比较2
    const {from} = rxjs
    const {distinctUntilChanged} = rxjs.operators
    const source$ = from([
        {name:'name1'},
        {name:'name2'},
        {name:'name2'},
        {name:'name3'},
    ])
    source$.pipe(
        //  传入比较方法
        distinctUntilChanged((prev,curr)=>{prev.name === curr.name})
    ).subscribe(e => console.log(e))
</script>
</html>