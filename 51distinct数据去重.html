<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rxjs</title>
</head>
<body>
    <h1>在集合console.log来查看代码的演示效果</h1>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/rxjs/6.2.0/rxjs.umd.min.js"></script>
<script>
    //  cdn引用的直接调用
    // rxjs.interval(500).pipe(rxjs.operators.take(4)).subscribe(console.log)

    //  distinct(keySelector?, flushes?): Observable
    //  数据去重，简单数据能自动比较，复杂数据比如对象需要指定判断的属性

    //  简单数据
    // const {of} = rxjs
    // const {distinct} = rxjs.operators
    // of(0,1,2,3,4,5,1,2,3,4)
    //     .pipe(distinct())
    //     .subscribe(console.log)

    //  复杂数据去重，比较靠谱
    const {from} = rxjs
    const {distinct} = rxjs.operators
    const obj1 = {id:3,name:'name1'}
    const obj2 = {id:4,name:'name2'}
    const obj3 = {id:3,name:'name3'}
    const obj4 = {id:5,name:'name2'}
    const vals = [obj1,obj2,obj3,obj4]
    from(vals)
        .pipe(
            //  通过id来出重
            distinct(e => e.id)
        )
        .subscribe(console.log)
</script>
</html>